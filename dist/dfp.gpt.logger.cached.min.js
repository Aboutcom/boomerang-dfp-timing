/*
Copyright 2013 Michael Countis

MIT License: http://opensource.org/licenses/MIT
*/
!function(){"use strict";window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],googletag.cmd.push(function(){if(!(googletag.hasOwnProperty("on")||googletag.hasOwnProperty("off")||googletag.hasOwnProperty("trigger")||googletag.hasOwnProperty("events"))){var a=googletag.debug_log.log,b=[],c=function(a,c,d){b.push({name:a,id:c,match:d})};c("gpt-google_js_loaded",8,/Google service JS loaded/gi),c("gpt-gpt_fetch",46,/Fetching GPT implementation/gi),c("gpt-gpt_fetched",48,/GPT implementation fetched\./gi),c("gpt-page_load_complete",1,/Page load complete/gi),c("gpt-queue_start",31,/^Invoked queued function/gi),c("gpt-service_add_slot",40,/Associated ([\w]*) service with slot ([\/\w]*)/gi),c("gpt-service_add_targeting",88,/Setting targeting attribute ([\w]*) with value ([\w\W]*) for service ([\w]*)/gi),c("gpt-service_collapse_containers_enable",78,/Enabling collapsing of containers when there is no ad content/gi),c("gpt-service_create",35,/Created service: ([\w]*)/gi),c("gpt-service_single_request_mode_enable",63,/Using single request mode to fetch ads/gi),c("gpt-slot_create",2,/Created slot: ([\/\w]*)/gi),c("gpt-slot_add_targeting",17,/Setting targeting attribute ([\w]*) with value ([\w\W]*) for slot ([\/\w]*)/gi),c("gpt-slot_fill",50,/Calling fillslot/gi),c("gpt-slot_fetch",3,/Fetching ad for slot ([\/\w]*)/gi),c("gpt-slot_receiving",4,/Receiving ad for slot ([\/\w]*)/gi),c("gpt-slot_render_delay",53,/Delaying rendering of ad slot ([\/\w]*) pending loading of the GPT implementation/gi),c("gpt-slot_rendering",5,/^Rendering ad for slot ([\/\w]*)/gi),c("gpt-slot_rendered",6,/Completed rendering ad for slot ([\/\w]*)/gi),googletag.events=googletag.events||{},googletag.on=function(a,b,c){if(!b)return this;a=a.split(" ");var d=c?b:void 0,e=c||b,f=0,g="";for(e.data=d,g=a[f=0];f<a.length;g=a[++f])(this.events[g]=this.events[g]||[]).push(e);return this},googletag.off=function(a,b){a=a.split(" ");var c=0,d="",e=0,f=function(){};for(d=a[c];c<a.length;d=a[++c])if(this.events.hasOwnProperty(d))if(b){for(e=this.events[d].length-1,f=this.events[d][e];e>=0;f=this.events[d][--e])f==b&&this.events[d].splice(e,1);0===this.events[d].length&&delete this.events[d]}else delete this.events[d];return this},googletag.trigger=function(a,b){if(!this.events[a]||0===this.events[a].length)return this;var b=b||[],c=0,d=this.events[a][c];for(d;c<this.events[a].length&&d.apply(this,[{data:d.data}].concat(b))!==!1;d=this.events[a][++c]);return this},googletag.debug_log.log=function(c,d,e,f,g){if(d&&d.getMessageId&&"number"==typeof d.getMessageId()){var h=Array.prototype.slice.call(arguments),i=0;for(i;i<b.length;i++)b[i].id===d.getMessageId()&&googletag.trigger(b[i].name,h)}return a.apply(this,arguments)}}})}(),function(){var a=["gpt-google_js_loaded","gpt-gpt_fetch","gpt-gpt_fetched","gpt-page_load_complete","gpt-queue_start","gpt-service_add_slot","gpt-service_add_targeting","gpt-service_collapse_containers_enable","gpt-service_create","gpt-service_single_request_mode_enable","gpt-slot_create","gpt-slot_add_targeting","gpt-slot_fill","gpt-slot_fetch","gpt-slot_receiving","gpt-slot_render_delay","gpt-slot_rendering","gpt-slot_rendered"];window.dfpEventCache={},window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],googletag.cmd.push(function(){googletag.on(a.join(" "),function(a,b,c,d,e,f){var g=(new Date).getTime(),h=c.getMessageId();eventObj={e:a,level:b,message:c,service:d,slot:e,reference:f,timestamp:g},dfpEventCache[h]||(dfpEventCache[h]=[]),dfpEventCache[h].push(eventObj)})})}();